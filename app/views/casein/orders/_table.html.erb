<!-- Scaffolding generated by Casein v5.1.1.5 -->

<table class="table table-striped table-hover table-condensed">
  <thead>
  <tr>
    <th><%= casein_sort_link t('list.order.name'), :name %></th>
    <th><%= casein_sort_link t('list.order.amount'), :amount %></th>
    <th><%= casein_sort_link t('list.order.paid'), :has_paid %></th>
    <th><%= casein_sort_link t('list.order.status'), :status %></th>
    <% if current_user.is_admin? %>
        <th><%= casein_sort_link t('list.order.user'), :casein_admin_user_id %></th>
        <th><%= casein_sort_link t('list.order.cancelled'), :cancelled %></th>
    <% end %>
    <th>&nbsp;</th>
  </tr>
  </thead>

  <% orders.each do |order| %>
      <tr>
        <td><%= casein_table_cell_link order.name, casein_order_path(order) %></td>
        <td><%= casein_table_cell_link order.amount, casein_order_path(order) %></td>
        <td><%= casein_table_cell_link casein_show_row_icon(true_or_false_icon(order.has_paid)), casein_order_path(order) %></td>
        <td><%= casein_table_cell_link order.status, casein_order_path(order) %></td>
        <% if current_user.is_admin? %>
            <td><%= casein_table_cell_link order.casein_admin_user.name, casein_order_path(order) %></td>
            <td><%= casein_table_cell_link casein_show_row_icon(true_or_false_icon(order.cancelled)), casein_order_path(order) %></td>
        <% end %>
        <td class="cancel">
          <% if !order.is_posted? %>
              <%= link_to(casein_show_row_icon('pause'), casein_order_path(order), :method => :cancel, :data => {:confirm => t('action.confirm_cancel_order')}) %>

          <% end %>
        </td>
        <% if current_user.is_admin? %>
            <td class="delete">
              <%= link_to(casein_show_row_icon('stop'), casein_order_path(order), :method => :delete, :data => {:confirm => t('action.confirm_delete_order')}) %>
            </td>
        <% end %>
      </tr>
  <% end %>
</table>